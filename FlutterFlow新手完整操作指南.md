# FlutterFlow æ™ºèƒ½å®¶å±…åº”ç”¨ - æ–°æ‰‹å®Œæ•´æ“ä½œæŒ‡å—

## ğŸ¯ é€‚ç”¨ç‰ˆæœ¬è¯´æ˜
**æœ¬æŒ‡å—é€‚ç”¨äº FlutterFlow 4.0+ ç‰ˆæœ¬ï¼ˆ2024å¹´æœ€æ–°ç‰ˆæœ¬ï¼‰**
- å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æ›´æ—©ç‰ˆæœ¬ï¼ŒæŸäº›ç•Œé¢å¯èƒ½ç•¥æœ‰ä¸åŒ
- å»ºè®®å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ä»¥è·å¾—æœ€ä½³ä½“éªŒ
- æœ¬æŒ‡å—ä¼šæ ‡æ³¨ç‰ˆæœ¬å·®å¼‚å’Œå…¼å®¹æ€§è¯´æ˜

---

## ğŸ“‹ å¼€å§‹å‰çš„å‡†å¤‡å·¥ä½œ

### 1. ç¡®ä¿æ‚¨æœ‰ä»¥ä¸‹æ¡ä»¶ï¼š
- [ ] FlutterFlowè´¦å·ï¼ˆå…è´¹ç‰ˆå³å¯ï¼‰
- [ ] ESP32æ™ºèƒ½å®¶å±…è®¾å¤‡ï¼ˆå·²é…ç½®å¥½WiFiï¼‰
- [ ] æ‰‹æœºå’ŒESP32åœ¨åŒä¸€WiFiç½‘ç»œ
- [ ] ESP32çš„IPåœ°å€ï¼ˆé€šå¸¸æ˜¯192.168.x.xæ ¼å¼ï¼‰

### 2. å¦‚ä½•æ‰¾åˆ°ESP32çš„IPåœ°å€ï¼š
1. æ‰“å¼€ESP32çš„ä¸²å£ç›‘è§†å™¨
2. é‡å¯ESP32è®¾å¤‡
3. æŸ¥çœ‹è¾“å‡ºä¿¡æ¯ä¸­çš„IPåœ°å€
4. è®°å½•ä¸‹æ¥ï¼Œæ ¼å¼ç±»ä¼¼ï¼š`192.168.1.100`

---

## ğŸš€ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºFlutterFlowé¡¹ç›®

### 1.1 åˆ›å»ºæ–°é¡¹ç›®
1. ç™»å½• [FlutterFlowå®˜ç½‘](https://flutterflow.io)
2. ç‚¹å‡» **"Create New Project"**
3. é€‰æ‹© **"Mobile App"**
4. é¡¹ç›®åç§°ï¼š`SmartHome`
5. ç‚¹å‡» **"Create Project"**

### 1.2 åŸºç¡€è®¾ç½®
1. ç­‰å¾…é¡¹ç›®åˆ›å»ºå®Œæˆï¼ˆçº¦1-2åˆ†é’Ÿï¼‰
2. è¿›å…¥é¡¹ç›®åï¼Œæ‚¨ä¼šçœ‹åˆ°é»˜è®¤çš„ä¸»é¡µé¢
3. åˆ é™¤é»˜è®¤å†…å®¹ï¼Œæˆ‘ä»¬ä»å¤´å¼€å§‹

---

## ğŸ”§ ç¬¬äºŒæ­¥ï¼šé…ç½®é¡¹ç›®ä¾èµ–

### 2.1 æ·»åŠ HTTPåŒ…ï¼ˆé‡è¦ï¼ï¼‰
1. ç‚¹å‡»å·¦ä¾§èœå• **"Settings & Integrations"**
2. é€‰æ‹© **"Dependencies"** æ ‡ç­¾
3. ç‚¹å‡» **"+ Add Dependency"**
4. æœç´¢å¹¶æ·»åŠ ï¼š`http: ^1.1.0`
5. ç‚¹å‡» **"Save"**

**âš ï¸ ç‰ˆæœ¬å…¼å®¹æ€§è¯´æ˜ï¼š**
- FlutterFlow 4.0+ï¼šä½¿ç”¨ `http: ^1.1.0`
- FlutterFlow 3.xï¼šä½¿ç”¨ `http: ^0.13.5`
- å¦‚æœæ·»åŠ å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨ `http` ï¼ˆä¸æŒ‡å®šç‰ˆæœ¬ï¼‰

---

## ğŸ“± ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡åº”ç”¨ç•Œé¢

### 3.1 åˆ›å»ºä¸»é¡µé¢å¸ƒå±€
1. åœ¨é¡µé¢è®¾è®¡å™¨ä¸­ï¼Œåˆ é™¤æ‰€æœ‰é»˜è®¤ç»„ä»¶
2. ä»å·¦ä¾§ç»„ä»¶åº“æ‹–æ‹½ä¸€ä¸ª **"Column"** åˆ°é¡µé¢ä¸­å¿ƒ
3. è®¾ç½®Columnå±æ€§ï¼š
   - Main Axis Alignment: `Center`
   - Cross Axis Alignment: `Center`

### 3.2 æ·»åŠ æ ‡é¢˜
1. åœ¨Columnä¸­æ·»åŠ ä¸€ä¸ª **"Text"** ç»„ä»¶
2. è®¾ç½®æ–‡æœ¬å†…å®¹ï¼š`æ™ºèƒ½å®¶å±…æ§åˆ¶`
3. è®¾ç½®å­—ä½“å¤§å°ï¼š`24`
4. è®¾ç½®å­—ä½“ç²—ç»†ï¼š`Bold`

### 3.3 æ·»åŠ è®¾å¤‡æ§åˆ¶æŒ‰é’®
ä¸ºæ¯ä¸ªè®¾å¤‡æ·»åŠ æ§åˆ¶æŒ‰é’®ï¼š

**é—¨æ§åˆ¶æŒ‰é’®ï¼š**
1. æ·»åŠ  **"Button"** ç»„ä»¶
2. æŒ‰é’®æ–‡æœ¬ï¼š`é—¨æ§åˆ¶`
3. æŒ‰é’®é¢œè‰²ï¼šè“è‰²
4. è¾¹è·ï¼šä¸Šä¸‹å„10åƒç´ 

**é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œåˆ›å»ºä»¥ä¸‹æŒ‰é’®ï¼š**
- çª—æˆ·æ§åˆ¶ï¼ˆç»¿è‰²ï¼‰
- LEDç¯æ§åˆ¶ï¼ˆé»„è‰²ï¼‰
- é£æ‰‡æ§åˆ¶ï¼ˆç´«è‰²ï¼‰
- RGBç¯æ§åˆ¶ï¼ˆçº¢è‰²ï¼‰

### 3.4 æ·»åŠ ä¼ æ„Ÿå™¨æ•°æ®æ˜¾ç¤ºåŒºåŸŸ
1. åœ¨æŒ‰é’®ä¸‹æ–¹æ·»åŠ ä¸€ä¸ª **"Container"**
2. è®¾ç½®èƒŒæ™¯é¢œè‰²ï¼šæµ…ç°è‰²
3. è®¾ç½®åœ†è§’ï¼š10åƒç´ 
4. åœ¨Containerä¸­æ·»åŠ  **"Column"**
5. æ·»åŠ ä»¥ä¸‹Textç»„ä»¶ï¼š
   - æ¸©åº¦æ˜¾ç¤º
   - æ¹¿åº¦æ˜¾ç¤º
   - å…‰ç…§æ˜¾ç¤º
   - äººä½“æ„Ÿåº”æ˜¾ç¤º
   - é›¨é‡ç™¾åˆ†æ¯”æ˜¾ç¤º

---

## ğŸ”„ ç¬¬å››æ­¥ï¼šé…ç½®é¡µé¢çŠ¶æ€å˜é‡

### 4.1 æ·»åŠ Page Stateå˜é‡
1. é€‰æ‹©é¡µé¢æ ¹ç»„ä»¶ï¼ˆé€šå¸¸æ˜¯Scaffoldï¼‰
2. åœ¨å³ä¾§å±æ€§é¢æ¿æ‰¾åˆ° **"Page State"** éƒ¨åˆ†
3. ç‚¹å‡» **"+"** æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

**è®¾å¤‡çŠ¶æ€å˜é‡ï¼š**
- `doorState` (Boolean) - é»˜è®¤å€¼ï¼šfalse
- `windowState` (Boolean) - é»˜è®¤å€¼ï¼šfalse
- `ledState` (Boolean) - é»˜è®¤å€¼ï¼šfalse
- `fanState` (Boolean) - é»˜è®¤å€¼ï¼šfalse

**ä¼ æ„Ÿå™¨æ•°æ®å˜é‡ï¼š**
- `temperature` (Double) - é»˜è®¤å€¼ï¼š0.0
- `humidity` (Double) - é»˜è®¤å€¼ï¼š0.0
- `lightLevel` (Integer) - é»˜è®¤å€¼ï¼š0
- `pirDetected` (Boolean) - é»˜è®¤å€¼ï¼šfalse
- `raindropLevel` (Integer) - é»˜è®¤å€¼ï¼š0

**æ§åˆ¶å˜é‡ï¼š**
- `isLoading` (Boolean) - é»˜è®¤å€¼ï¼šfalse
- `lastError` (String) - é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸²
- `deviceIP` (String) - é»˜è®¤å€¼ï¼š"192.168.4.1"

**âš ï¸ ç‰ˆæœ¬å·®å¼‚è¯´æ˜ï¼š**
- FlutterFlow 4.0+ï¼šPage Stateåœ¨å³ä¾§å±æ€§é¢æ¿
- FlutterFlow 3.xï¼šPage Stateå¯èƒ½åœ¨é¡¶éƒ¨å·¥å…·æ 

---

## ğŸ“‹ é‡è¦ï¼šFlutterFlowè¿”å›ç±»å‹è¯´æ˜

### FlutterFlow 4.0+ å¯ç”¨çš„è¿”å›ç±»å‹
æ ¹æ®æ‚¨æä¾›çš„ç•Œé¢æˆªå›¾ï¼ŒFlutterFlowå¹³å°æ”¯æŒä»¥ä¸‹è¿”å›ç±»å‹ï¼š

**åŸºç¡€æ•°æ®ç±»å‹ï¼š**
- `String` - æ–‡æœ¬å­—ç¬¦ä¸²
- `int` - æ•´æ•°
- `double` - æµ®ç‚¹æ•°
- `bool` - å¸ƒå°”å€¼ï¼ˆtrue/falseï¼‰

**å¤æ‚æ•°æ®ç±»å‹ï¼š**
- `JSON` - JSONå¯¹è±¡ï¼Œç›¸å½“äº `Map<String, dynamic>`ï¼ˆ**æ¨èç”¨äºä¼ æ„Ÿå™¨æ•°æ®**ï¼‰
- `Color` - é¢œè‰²å€¼
- `DateTime` - æ—¥æœŸæ—¶é—´
- `TimestampRange` - æ—¶é—´æˆ³èŒƒå›´
- `LatLng` - åœ°ç†åæ ‡
- `GooglePlace` - Googleåœ°ç‚¹ä¿¡æ¯
- `Data Type` - è‡ªå®šä¹‰æ•°æ®ç±»å‹
- `Enum` - æšä¸¾ç±»å‹
- `SQLiteRow` - æ•°æ®åº“è¡Œ
- `UploadedFile` - ä¸Šä¼ çš„æ–‡ä»¶
- `DocumentReference` - æ–‡æ¡£å¼•ç”¨
- `Document` - æ–‡æ¡£å¯¹è±¡
- `AudioPath` - éŸ³é¢‘è·¯å¾„

**âš ï¸ å…³é”®æç¤ºï¼š**
- å¯¹äºæ™ºèƒ½å®¶å±…ä¼ æ„Ÿå™¨æ•°æ®ï¼Œ**å¿…é¡»é€‰æ‹© `JSON` ç±»å‹**
- `JSON` ç±»å‹å…è®¸è¿”å›å¤æ‚çš„æ•°æ®ç»“æ„
- åœ¨ä»£ç ä¸­è®¿é—®JSONæ•°æ®ä½¿ç”¨ï¼š`result['key']` æ ¼å¼
- **ä¸è¦é€‰æ‹© `Map` ç±»å‹ï¼Œå› ä¸ºFlutterFlowç•Œé¢ä¸­æ²¡æœ‰æ­¤é€‰é¡¹**

---

## âš™ï¸ ç¬¬äº”æ­¥ï¼šåˆ›å»ºCustom Actions

### 5.1 è¿›å…¥Custom CodeåŒºåŸŸ
1. ç‚¹å‡»å·¦ä¾§èœå• **"Custom Code"**
2. é€‰æ‹© **"Actions"** æ ‡ç­¾
3. ç‚¹å‡» **"+ Add Action"**

### 5.2 åˆ›å»ºè®¾å¤‡æ§åˆ¶å‡½æ•°

**Action 1: controlDevice**

**åŸºæœ¬ä¿¡æ¯ï¼š**
- Action Name: `controlDevice`
- Description: `æ§åˆ¶æ™ºèƒ½å®¶å±…è®¾å¤‡å¼€å…³`
- Return Type: `Future<bool>`

**å‚æ•°è®¾ç½®ï¼š**
1. ç‚¹å‡» **"+ Add Parameter"**
2. æ·»åŠ ä»¥ä¸‹å‚æ•°ï¼š
   - `deviceType` (String) - è®¾å¤‡ç±»å‹
   - `state` (bool) - è®¾å¤‡çŠ¶æ€
   - `ipAddress` (String) - IPåœ°å€

**ä»£ç å®ç°ï¼š**
```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

Future<bool> controlDevice(
  String deviceType,
  bool state,
  String ipAddress,
) async {
  // æ„å»ºè¯·æ±‚URL
  final url = 'http://$ipAddress:80/$deviceType?level=${state ? 1 : 0}';
  
  try {
    print('å‘é€æ§åˆ¶æŒ‡ä»¤: $url');
    
    // å‘é€POSTè¯·æ±‚
    final response = await http.post(
      Uri.parse(url),
      headers: {
        'Content-Type': 'application/json',
      },
    ).timeout(Duration(seconds: 5));
    
    // æ£€æŸ¥å“åº”çŠ¶æ€
    if (response.statusCode == 200) {
      print('è®¾å¤‡æ§åˆ¶æˆåŠŸ: $deviceType ${state ? "å¼€å¯" : "å…³é—­"}');
      return true;
    } else {
      print('è®¾å¤‡æ§åˆ¶å¤±è´¥: HTTP ${response.statusCode}');
      return false;
    }
    
  } catch (e) {
    print('è®¾å¤‡æ§åˆ¶å¼‚å¸¸: $e');
    return false;
  }
}
```

**Action 2: getSensorData**

**åŸºæœ¬ä¿¡æ¯ï¼š**
- Action Name: `getSensorData`
- Description: `è·å–ä¼ æ„Ÿå™¨æ•°æ®`
- Return Type: `Future<JSON>`

**âš ï¸ é‡è¦æç¤ºï¼šFlutterFlow 4.0+ç‰ˆæœ¬ä¸­ä½¿ç”¨JSONè¿”å›ç±»å‹**
- åœ¨è¿”å›ç±»å‹ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© **"JSON"**
- è¿™ç›¸å½“äº `Map<String, dynamic>` ç±»å‹ï¼Œé¿å…å…¼å®¹æ€§é—®é¢˜

**å‚æ•°è®¾ç½®ï¼š**
- `ipAddress` (String) - ESP32çš„IPåœ°å€
- `port` (int) - ç«¯å£å·ï¼Œé»˜è®¤80

**ä»£ç å®ç°ï¼š**
```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

Future<dynamic> getSensorData(
  String ipAddress,
  int port,
) async {
  final url = Uri.parse('http://$ipAddress:$port/all');
  
  try {
    final response = await http.get(
      url,
      headers: {'Accept': 'application/json'},
    ).timeout(Duration(seconds: 5));
    
    if (response.statusCode == 200) {
      final data = json.decode(response.body);
      
      // å¤„ç†ESP32è¿”å›çš„æ•°æ®æ ¼å¼ï¼Œè¿”å›JSONæ ¼å¼
      return {
        'success': true,
        'temperature': (data['temperature'] ?? 0.0).toDouble(),
        'humidity': (data['humidity'] ?? 0.0).toDouble(),
        'lightLevel': (data['lightLevel'] ?? 0).toInt(),
        'pirDetected': (data['pirDetected'] ?? 0) == 1,
        'raindropLevel': data['raindropLevel'] ?? 0,
        'timestamp': DateTime.now().millisecondsSinceEpoch,
        'deviceIP': ipAddress,
        'devicePort': port,
      };
    } else {
      return {
        'success': false,
        'error': 'HTTPé”™è¯¯: ${response.statusCode}',
        'timestamp': DateTime.now().millisecondsSinceEpoch,
      };
    }
  } catch (e) {
    return {
      'success': false,
      'error': e.toString(),
      'timestamp': DateTime.now().millisecondsSinceEpoch,
    };
  }
}
```

---

## ğŸ”— ç¬¬å…­æ­¥ï¼šé…ç½®æŒ‰é’®Actions

### 6.1 é…ç½®é—¨æ§åˆ¶æŒ‰é’®
1. é€‰æ‹©"é—¨æ§åˆ¶"æŒ‰é’®
2. åœ¨å³ä¾§å±æ€§é¢æ¿æ‰¾åˆ° **"Actions"** éƒ¨åˆ†
3. ç‚¹å‡» **"+ Add Action"**
4. é€‰æ‹© **"Custom Action"**
5. é€‰æ‹© `controlDevice` å‡½æ•°

**å‚æ•°é…ç½®ï¼š**
- `deviceType`: è¾“å…¥ `"door"`
- `state`: é€‰æ‹© **"From Variable"** â†’ Page State â†’ `doorState`
- `ipAddress`: é€‰æ‹© **"From Variable"** â†’ Page State â†’ `deviceIP`

**æ·»åŠ çŠ¶æ€æ›´æ–°ï¼š**
1. ç‚¹å‡» **"+ Add Action"**
2. é€‰æ‹© **"Update Page State"**
3. é€‰æ‹©å˜é‡ `doorState`
4. è®¾ç½®å€¼ä¸ºï¼š`!doorState` ï¼ˆå–åå½“å‰çŠ¶æ€ï¼‰

**âš ï¸ FlutterFlow 4.0+ ç‰ˆæœ¬è¯´æ˜ï¼š**
- å¦‚æœæ‰¾ä¸åˆ°"!doorState"é€‰é¡¹ï¼Œä½¿ç”¨Conditional Action
- æ¡ä»¶ï¼š`doorState == true`
- Trueåˆ†æ”¯ï¼šè®¾ç½® `doorState = false`
- Falseåˆ†æ”¯ï¼šè®¾ç½® `doorState = true`

**âš ï¸ è¿”å›ç±»å‹é€‰æ‹©è¯´æ˜ï¼š**
- åœ¨FlutterFlowç•Œé¢ä¸­ï¼ŒCustom Actionçš„è¿”å›ç±»å‹ä¸‹æ‹‰èœå•åŒ…å«ï¼š
  - `JSON` - ç”¨äºè¿”å›å¤æ‚æ•°æ®ç»“æ„ï¼ˆæ¨èï¼‰
  - `String` - ç”¨äºè¿”å›æ–‡æœ¬
  - `bool` - ç”¨äºè¿”å›å¸ƒå°”å€¼
  - `int` - ç”¨äºè¿”å›æ•´æ•°
  - `double` - ç”¨äºè¿”å›å°æ•°
  - å…¶ä»–æ•°æ®ç±»å‹å¦‚ `Color`ã€`DateTime` ç­‰

### 6.2 é‡å¤é…ç½®å…¶ä»–æŒ‰é’®
æŒ‰ç…§ç›¸åŒæ­¥éª¤é…ç½®ï¼š
- çª—æˆ·æ§åˆ¶ï¼š`deviceType = "window"`, çŠ¶æ€å˜é‡ `windowState`
- LEDæ§åˆ¶ï¼š`deviceType = "led"`, çŠ¶æ€å˜é‡ `ledState`
- é£æ‰‡æ§åˆ¶ï¼š`deviceType = "fan"`, çŠ¶æ€å˜é‡ `fanState`

---

## ğŸ“Š ç¬¬ä¸ƒæ­¥ï¼šé…ç½®ä¼ æ„Ÿå™¨æ•°æ®è·å–

### 7.1 æ·»åŠ åˆ·æ–°æŒ‰é’®
1. åœ¨ä¼ æ„Ÿå™¨æ˜¾ç¤ºåŒºåŸŸä¸Šæ–¹æ·»åŠ ä¸€ä¸ªæŒ‰é’®
2. æŒ‰é’®æ–‡æœ¬ï¼š`åˆ·æ–°ä¼ æ„Ÿå™¨æ•°æ®`
3. æŒ‰é’®é¢œè‰²ï¼šæ©™è‰²

### 7.2 é…ç½®åˆ·æ–°æŒ‰é’®Action
1. é€‰æ‹©åˆ·æ–°æŒ‰é’®
2. æ·»åŠ Actionï¼š**"Custom Action"**
3. é€‰æ‹© `getSensorData` å‡½æ•°

**å‚æ•°é…ç½®ï¼š**
- `ipAddress`: Page State â†’ `deviceIP`
- `port`: ç›´æ¥è¾“å…¥ `80`

**å­˜å‚¨è¿”å›å€¼ï¼š**
1. åœ¨Actioné…ç½®ä¸­ï¼Œæ‰¾åˆ° **"Action Output Variable Name"**
2. è¾“å…¥ï¼š`sensorResponse`
3. **âš ï¸ æ³¨æ„ï¼š** ç”±äºè¿”å›ç±»å‹æ˜¯JSONï¼Œæ•°æ®è®¿é—®ä½¿ç”¨ `sensorResponse['key']` æ ¼å¼

### 7.3 é…ç½®æ•°æ®æ›´æ–°Action Chain
åœ¨getSensorData Actionåé¢æ·»åŠ ä»¥ä¸‹Actionsï¼š

**Action 1: Conditional**
- æ¡ä»¶ï¼š`sensorResponse['success'] == true`
- Trueåˆ†æ”¯ï¼šæ·»åŠ ä»¥ä¸‹Update Page State Actions
  - `temperature = sensorResponse['temperature']`
  - `humidity = sensorResponse['humidity']`
  - `lightLevel = sensorResponse['lightLevel']`
  - `pirDetected = sensorResponse['pirDetected']`
  - `raindropLevel = sensorResponse['raindropLevel']`

**Action 2: Conditional (Falseåˆ†æ”¯)**
- æ¡ä»¶ï¼š`sensorResponse['success'] == false`
- Trueåˆ†æ”¯ï¼š
  - Update Page State: `lastError = sensorResponse['error']`
  - Show Snackbar: æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

---

## ğŸ¨ ç¬¬å…«æ­¥ï¼šç»‘å®šæ•°æ®åˆ°UI

### 8.1 ç»‘å®šæŒ‰é’®çŠ¶æ€
1. é€‰æ‹©"é—¨æ§åˆ¶"æŒ‰é’®
2. åœ¨å±æ€§é¢æ¿æ‰¾åˆ° **"Text"** å±æ€§
3. ç‚¹å‡»æ—è¾¹çš„ **"fx"** å›¾æ ‡
4. è¾“å…¥è¡¨è¾¾å¼ï¼š`doorState ? "å…³é—­é—¨" : "æ‰“å¼€é—¨"`

**é‡å¤é…ç½®å…¶ä»–æŒ‰é’®ï¼š**
- çª—æˆ·ï¼š`windowState ? "å…³é—­çª—æˆ·" : "æ‰“å¼€çª—æˆ·"`
- LEDï¼š`ledState ? "å…³é—­LED" : "æ‰“å¼€LED"`
- é£æ‰‡ï¼š`fanState ? "å…³é—­é£æ‰‡" : "æ‰“å¼€é£æ‰‡"`

### 8.2 ç»‘å®šä¼ æ„Ÿå™¨æ•°æ®
é€‰æ‹©æ¸©åº¦æ˜¾ç¤ºTextç»„ä»¶ï¼š
1. ç‚¹å‡»Textå±æ€§æ—çš„ **"fx"** å›¾æ ‡
2. è¾“å…¥ï¼š`"æ¸©åº¦: ${temperature.toStringAsFixed(1)}Â°C"`

**é…ç½®å…¶ä»–ä¼ æ„Ÿå™¨æ˜¾ç¤ºï¼š**
- æ¹¿åº¦ï¼š`"æ¹¿åº¦: ${humidity.toStringAsFixed(1)}%"`
- å…‰ç…§ï¼š`"å…‰ç…§: $lightLevel"`
- äººä½“æ„Ÿåº”ï¼šä½¿ç”¨Imageç»„ä»¶æ˜¾ç¤ºå›¾æ ‡ï¼Œ`pirDetected ? 'somebody.png' : 'nobody.png'`
- é›¨é‡ï¼š`"é›¨é‡: ${raindropLevel} %"`

---

## ğŸ§ª ç¬¬ä¹æ­¥ï¼šæµ‹è¯•åº”ç”¨

### 9.1 ä½¿ç”¨FlutterFlowé¢„è§ˆ
1. ç‚¹å‡»å³ä¸Šè§’çš„ **"Preview"** æŒ‰é’®
2. é€‰æ‹© **"Test Mode"**
3. åœ¨é¢„è§ˆçª—å£ä¸­æµ‹è¯•å„ä¸ªåŠŸèƒ½

### 9.2 æµ‹è¯•æ¸…å•
- [ ] ç‚¹å‡»è®¾å¤‡æ§åˆ¶æŒ‰é’®ï¼ŒæŒ‰é’®æ–‡å­—æ˜¯å¦æ­£ç¡®åˆ‡æ¢
- [ ] ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œä¼ æ„Ÿå™¨æ•°æ®æ˜¯å¦æ›´æ–°
- [ ] ç½‘ç»œé”™è¯¯æ—¶æ˜¯å¦æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- [ ] æ‰€æœ‰æŒ‰é’®æ˜¯å¦å“åº”æ­£å¸¸

### 9.3 å¸¸è§é—®é¢˜è§£å†³

**é—®é¢˜1ï¼šæŒ‰é’®ç‚¹å‡»æ— ååº”**
- æ£€æŸ¥Custom Actionæ˜¯å¦ä¿å­˜æˆåŠŸ
- ç¡®è®¤å‚æ•°é…ç½®æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

**é—®é¢˜2ï¼šç½‘ç»œè¯·æ±‚å¤±è´¥**
- ç¡®è®¤ESP32è®¾å¤‡IPåœ°å€æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æ‰‹æœºå’ŒESP32æ˜¯å¦åœ¨åŒä¸€WiFiç½‘ç»œ
- å°è¯•åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®ï¼š`http://ä½ çš„ESP32IP:80/all`

**é—®é¢˜3ï¼šæ•°æ®æ˜¾ç¤ºå¼‚å¸¸**
- æ£€æŸ¥Page Stateå˜é‡ç±»å‹æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®ç»‘å®šè¡¨è¾¾å¼æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹Custom Actionè¿”å›çš„æ•°æ®æ ¼å¼
- ç¡®è®¤ä½¿ç”¨JSONè¿”å›ç±»å‹æ—¶çš„æ•°æ®è®¿é—®è¯­æ³•ï¼š`sensorResponse['key']`

**é—®é¢˜4ï¼šCustom Actionè¿”å›ç±»å‹é”™è¯¯**
- ç¡®ä¿é€‰æ‹©äº†æ­£ç¡®çš„è¿”å›ç±»å‹ï¼ˆJSONè€Œä¸æ˜¯Mapï¼‰
- æ£€æŸ¥ä»£ç ä¸­çš„è¿”å›å€¼æ ¼å¼æ˜¯å¦ä¸ºæœ‰æ•ˆçš„JSONå¯¹è±¡
- éªŒè¯æ‰€æœ‰è¿”å›çš„æ•°æ®ç±»å‹æ˜¯å¦ä¸é¢„æœŸä¸€è‡´

---

## ğŸ“± ç¬¬åæ­¥ï¼šå‘å¸ƒåº”ç”¨

### 10.1 ç”ŸæˆAPKï¼ˆAndroidï¼‰
1. ç‚¹å‡»å³ä¸Šè§’ **"Deploy"** æŒ‰é’®
2. é€‰æ‹© **"Download APK"**
3. ç­‰å¾…ç¼–è¯‘å®Œæˆï¼ˆçº¦5-10åˆ†é’Ÿï¼‰
4. ä¸‹è½½APKæ–‡ä»¶åˆ°æ‰‹æœºå®‰è£…

### 10.2 å‘å¸ƒåˆ°åº”ç”¨å•†åº—ï¼ˆå¯é€‰ï¼‰
1. åœ¨Deployé¡µé¢é€‰æ‹© **"Google Play Store"**
2. æŒ‰ç…§æç¤ºé…ç½®åº”ç”¨ä¿¡æ¯
3. ä¸Šä¼ åº”ç”¨å›¾æ ‡å’Œæˆªå›¾
4. æäº¤å®¡æ ¸

---

## ğŸ”§ è¿›é˜¶åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

### 11.1 æ·»åŠ å®šæ—¶åˆ·æ–°
1. åœ¨é¡µé¢åˆå§‹åŒ–æ—¶æ·»åŠ Timer
2. æ¯5ç§’è‡ªåŠ¨è°ƒç”¨getSensorData
3. æ·»åŠ å¼€å…³æ§åˆ¶å®šæ—¶åˆ·æ–°

### 11.2 æ·»åŠ RGBé¢œè‰²æ§åˆ¶
1. æ·»åŠ é¢œè‰²é€‰æ‹©å™¨ç»„ä»¶
2. åˆ›å»ºcontrolRGB Custom Action
3. é…ç½®é¢œè‰²å€¼ä¼ é€’

### 11.3 æ·»åŠ è®¾å¤‡çŠ¶æ€æŒ‡ç¤º
1. ä½¿ç”¨ä¸åŒé¢œè‰²è¡¨ç¤ºè®¾å¤‡çŠ¶æ€
2. æ·»åŠ çŠ¶æ€å›¾æ ‡
3. å®ç°çŠ¶æ€åŠ¨ç”»æ•ˆæœ

---

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [FlutterFlowå®˜æ–¹æ–‡æ¡£](https://docs.flutterflow.io/)
- [FlutterFlow YouTubeé¢‘é“](https://www.youtube.com/c/FlutterFlow)
- [FlutterFlowç¤¾åŒºè®ºå›](https://community.flutterflow.io/)

### æ¨èæ•™ç¨‹
- FlutterFlowåŸºç¡€æ•™ç¨‹ç³»åˆ—
- Custom Actionså¼€å‘æŒ‡å—
- çŠ¶æ€ç®¡ç†æœ€ä½³å®è·µ

---

## â“ å¸¸è§é—®é¢˜FAQ

**Q1: FlutterFlowå…è´¹ç‰ˆæœ‰ä»€ä¹ˆé™åˆ¶ï¼Ÿ**
A1: å…è´¹ç‰ˆå¯ä»¥åˆ›å»ºé¡¹ç›®å’Œä½¿ç”¨åŸºæœ¬åŠŸèƒ½ï¼Œä½†å¯¼å‡ºä»£ç å’Œå‘å¸ƒåº”ç”¨éœ€è¦ä»˜è´¹ç‰ˆæœ¬ã€‚

**Q2: å¦‚ä½•æ›´æ–°FlutterFlowé¡¹ç›®ï¼Ÿ**
A2: FlutterFlowä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä½†å»ºè®®å®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰æ–°åŠŸèƒ½å’Œæ”¹è¿›ã€‚

**Q3: å¯ä»¥åœ¨FlutterFlowä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…å—ï¼Ÿ**
A3: å¯ä»¥ï¼Œåœ¨Dependenciesä¸­æ·»åŠ éœ€è¦çš„åŒ…å³å¯ã€‚

**Q4: å¦‚ä½•è°ƒè¯•Custom Actionsï¼Ÿ**
A4: ä½¿ç”¨printè¯­å¥è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹è¾“å‡ºã€‚

**Q5: åº”ç”¨åœ¨çœŸæœºä¸Šè¿è¡Œç¼“æ…¢æ€ä¹ˆåŠï¼Ÿ**
A5: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œä¼˜åŒ–å›¾ç‰‡èµ„æºï¼Œå‡å°‘ä¸å¿…è¦çš„çŠ¶æ€æ›´æ–°ã€‚

---

## ğŸ‰ æ­å–œå®Œæˆï¼

æ‚¨å·²ç»æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„æ™ºèƒ½å®¶å±…æ§åˆ¶åº”ç”¨ï¼ç°åœ¨æ‚¨å¯ä»¥ï¼š
- æ§åˆ¶å„ç§æ™ºèƒ½è®¾å¤‡
- å®æ—¶æŸ¥çœ‹ä¼ æ„Ÿå™¨æ•°æ®
- å¤„ç†ç½‘ç»œé”™è¯¯
- å‘å¸ƒåˆ°åº”ç”¨å•†åº—

ç»§ç»­æ¢ç´¢FlutterFlowçš„æ›´å¤šåŠŸèƒ½ï¼Œåˆ›å»ºæ›´å¤æ‚çš„åº”ç”¨å§ï¼

---

**æœ€åæ›´æ–°ï¼š2024å¹´12æœˆ**
**é€‚ç”¨ç‰ˆæœ¬ï¼šFlutterFlow 4.0+**
**ä½œè€…ï¼šæ™ºèƒ½å®¶å±…é¡¹ç›®å›¢é˜Ÿ**